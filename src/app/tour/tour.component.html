<div fxLayout="column">
  <div fxFlexAlign="center">
    <app-search></app-search>
  </div>

  <div fxLayout="row">
    <div fxFlex="30">
      <div fxLayoutAlign="center">
        <h1>
          Filter by
        </h1>
      </div>

      <mat-card>
        <mat-card-title>
          Tour type
        </mat-card-title>
        <section fxLayout="column" class="top-bottom-margin" >
          <mat-checkbox [(ngModel)]="luxary" (change)="filterByType()">Luxary</mat-checkbox>
          {{luxary}}
          <mat-checkbox [(ngModel)]="economy" (change)="filterByType()">Economy</mat-checkbox>
          {{economy}}
        </section>
      </mat-card>

      <mat-card>
        <mat-card-title>
          Tour price
        </mat-card-title>
        <mat-radio-group class="top-bottom-margin" fxLayout="column" [(ngModel)]="priceRange" (change)="filterByPrice()">
          <mat-radio-button value="under100">Under 100$</mat-radio-button>
          <mat-radio-button value="over100">Over 100$ </mat-radio-button>
          <mat-radio-button value="any">Any </mat-radio-button>
        </mat-radio-group>
        {{priceRange}}
      </mat-card>

      <mat-card>
        <mat-card-title>
          Number of days
        </mat-card-title>
        <mat-radio-group fxLayout="column" class="top-bottom-margin" [(ngModel)]="daysNumber" (change)="filterByDays()">
          <mat-radio-button value="lessthan3" >1 - 3 days</mat-radio-button>
          <mat-radio-button value="from3" >4+ days</mat-radio-button>
          <mat-radio-button value="any" >Any</mat-radio-button>
        </mat-radio-group>
        {{daysNumber}}
      </mat-card>
    </div>

    <div fxLayout="column" fxFlex="70">
      <div fxLayoutAlign="center">
        <h1>
          Popular tours
        </h1>
      </div>
      <mat-card *ngFor="let tour of toursToShow">
        <mat-card-header>
          <mat-card-title [routerLink]="['/tour-details', tour._id]" class="pointer">{{tour.name}} </mat-card-title>
          <mat-card-subtitle>Rating</mat-card-subtitle>
          <mat-card-content>
            <p>
              {{tour.rating}} stars
            </p>
            <p>
              {{tour.price}} $
            </p>
          </mat-card-content>
        </mat-card-header>
        <img src="../../assets/da-lat-2.jpg" alt="Photo of tour {{tour.name}}">
        <mat-card-content>
          Review
        </mat-card-content>
        <mat-card-actions>
          <button mat-button [routerLink]="['/tour-details', tour._id]"> More info </button>
          <button mat-button (click)="bookTour(tour)"> Book Tour {{tour.name}} </button>
        </mat-card-actions>
      </mat-card>
      <button mat-button (click)="loadMoreTours()">Load more tours</button>

    </div>
  </div>
</div>

<!-- <button mat-button (click)="addTour()">Create Tour</button> -->